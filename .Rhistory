na.ra.rm <- na.rs.re[width(na.rs.re)>1]
na.rs.rm <- na.rs.re[width(na.rs.re)>1]
na.rs.rm
as.integer(na.rs.rm)
start(na.rs.rm) <- start(na.rs.rm) + 1
df <- data.frame(id = c(1,2,NA,3,4,NA,NA,NA,5,6,NA), name = c("john jones", "john joners",
NA, "clara prat", "klara prat", NA, NA, NA, "alan turing", "allan turing",
NA), stringsAsFactors = F)
library(IRanges)
na.rs <- which(is.na(df$id) & is.na(df$name))
na.rs.re <- reduce(IRanges(na.rs, na.rs))
na.rs.rm <- na.rs.re[width(na.rs.re)>1]
start(na.rs.rm) <- start(na.rs.rm) + 1
df[-as.integer(na.rs.rm), ]
library(shiny)
runApp("~/RICENCODE/")
ls()
library(shiny)
runApp("~/RICENCODE/")
library(shiny)
runApp("~/RICENCODE/")
setwd("~/ricencode.github.io/_posts/FAM/")
setwd("~/ricencode.github.io/_posts/FAM/")
fl.lst <- list.files(patter="*.md$", recur=T, full=T)
for (i in fl.lst) {
dat <- readLines(i)
dat <- dat[!grepl("^tags:\\sGeneFamily$", dat)]
writeLines(dat, i)
}
setwd("~/ricencode.github.io/_posts/FAM/")
fl.lst <- list.files(patter="*.md$", recur=T, full=T)
for (i in fl.lst) {
dat <- readLines(i)
dat[grepl("rapdb.dna.affrc.go.jp", dat)] <- gsub("\\.$", ")", dat[grepl("rapdb.dna.affrc.go.jp", dat)])
writeLines(dat, i)
}
setwd("~")
library(Rcmdr)
library(shiny)
runApp("~/RICENCODE/")
runApp("~/RICENCODE/")
library(shiny)
runApp("~/RICENCODE/")
library(shiny)
runApp("~/RICENCODE/")
library(shiny)
runApp("RICENCODE/")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
x <- seq(-10,10,by=0.1)
y <- x^3
plot(x,y, type="l")
plot(x,z, type="l")
z <- x^(1/3)
plot(x,z, type="l")
x <- seq(-10,10,by=0.1)
y <- x^3
z <- x^(1/3)
plot(x,y, type="l")
lines(x,z, type="l")
abline(h=0)
abline(v=0)
lines(x,z, type="l")
lines(x,z, type="l",col="red")
?lines
lines(x=x,y=z, type="l",col="red")
x <- seq(-10,10,by=0.1)
y <- x^3
z <- x^(1/3)
plot(x,y, type="l")
lines(x=x,y=z, type="l",col="red")
abline(h=0)
abline(v=0)
plot(x,z)
x <- seq(-10,10,by=0.1)
y <- x^3
z <- x^(1/3)
z
(-10)^(1/3)
str(x)
2**4
2**(1/4)
2**(-4)
z <- x**(1/3)
z
x
-10**(1/3)
(-10)**(1/3)
(-10)**(1/3)
sqrt(12)
?sqrt
x <- seq(-10,10,by=0.1)
y <- x^3
z <- x**(1/3)
x
x[100]
z[1:100] <- -(-x[1:100])**(1/3)
z
plot(x,y, type="l")
lines(x=x,y=z, type="l",col="red")
abline(h=0)
abline(v=0)
plot(x,z)
plot(x,y, type="l")
lines(x=x,y=z, type="l",col="red")
?points
plot(x,y, type="l")
points(x=x,y=z, type="l",col="red")
plot(x, z)
plot(x,y, type="l")
plot(x,z,type="l", add=T)
plot(x,y, type="l")
plot(x,y, type="l", ylim=c(-5,5))
lines(x,z,type="l")
abline(h=0)
abline(v=0)
plot(x,y, type="l", ylim=c(-5,5))
lines(x,z,type="l",col="blue")
abline(h=0)
abline(v=0)
abline(a=1,b=0,col="red")
plot(x,y, type="l", ylim=c(-5,5))
lines(x,z,type="l",col="blue")
abline(h=0)
abline(v=0)
abline(a=0,b=1,col="red")
plot(x,y, type="l", ylim=c(-5,5))
lines(x,z,type="l",col="blue")
abline(h=0)
abline(h=0)
abline(v=0)
abline(a=0,b=1,col="red")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("ricencode")
library(shiny)
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages("plotly")
install.packages("plotly")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
library(shiny)
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages(c("acepack", "arm", "boot", "car", "cluster", "coda", "codetools", "colorspace", "digest", "e1071", "effects", "evaluate", "foreign", "ggplot2", "Hmisc", "htmlwidgets", "jsonlite", "knitr", "lattice", "leaps", "lmtest", "Matrix", "mgcv", "mime", "multcomp", "mvtnorm", "nlme", "nnet", "pbkrtest", "plyr", "quantreg", "R6", "Rcmdr", "RcmdrMisc", "RcppEigen", "reshape2", "rgl", "rglwidget", "rmarkdown", "rms", "scales", "sem", "SparseM", "stringi", "stringr", "survival", "TH.data", "XML", "yaml", "zoo"))
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
library(shiny)
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages("LDheatmap")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages("chopsticks")
library(BiocInstaller)
biocLite("chopsticks")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
biocLite("chopsticks")
install.packages("~/Downloads/chopsticks_1.38.0.tar.gz", repos = NULL, type = "source")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages("foreach")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages("ape")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages("pegas")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
install.packages("shiny")
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
library(shiny)
runApp("~/坚果云/坚果云/Todo/sparseMatrix/wildCargo/")
setwd("~")
d <- readLines("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1")
str(d)
d
d <- readLines("view-source:http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1")
d <- readLines("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1")
str(d)
d[5]
download.file("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1")
download.file("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1", destfile = "1.txt")
d <- readLines("1.txt")
d[1:6]
load("~/1.txt")
d <- readLines("1.txt")
d[1:9]
d <- readLines("1.txt")
d[1:9]
d <- readLines("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1"， encoding="gb2312")
d <- readLines("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1", encoding="gb2312")
d[1:9]
iconv(d[1:9], from="gbk", to="utf8")
d <- iconv(readLines("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=1"),
from="gbk", to="utf8")
d[1:9]
length(d)
d <- d[grepl('<td class="zthei" style=', d)]
d
d <- gsub(".+class=\\"clink\\">", "", d)
d <- gsub(".+class=\"clink\">", "", d)
d
d <- gsub("<.+", "", d)
d
dat <- sapply(1:3, function(i) {
d <- iconv(readLines(paste0("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=", i)),
from="gbk", to="utf8")
d <- d[grepl('<td class="zthei" style=', d)]
d <- gsub(".+class=\"clink\">", "", d)
d <- gsub("<.+", "", d)
return(d)
})
dat
class(d)
str(d)
dim(d)
class(da)
class(dat)
dim(dat)
dat <- sapply(1:36, function(i) {
d <- iconv(readLines(paste0("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=", i)),
from="gbk", to="utf8")
d <- d[grepl('<td class="zthei" style=', d)]
d <- gsub(".+class=\"clink\">", "", d)
d <- gsub("<.+", "", d)
return(d)
})
class(dat)
dat[[2]]
dat[[3]]
dat[[36]]
dat[[35]]
dat <- unique(unlist(dat))
str(dat)
dat
dat.1 <- sapply(1:13, function(i) {
d <- iconv(readLines(paste0("http://www.ttpaihang.com/vote/rank.php?voteid=1410&page=", i)),
from="gbk", to="utf8")
d <- d[grepl('<td class="zthei" style=', d)]
d <- gsub(".+class=\"clink\">", "", d)
d <- gsub("<.+", "", d)
return(d)
})
dat.1 <- unique(unlist(dat.1))
dat.1
?dir.create
setwd("~/众神")
for (i in dat) {
if (!dir.exists(i)) {
dir.create(i)
}
}
for (i in dat.1) {
if (!dir.exists(i)) {
dir.create(i)
}
}
setwd("~")
setwd("~/众神")
i <- 1
d <- iconv(readLines(paste0("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=", i)),
from="gbk", to="utf8")
d <- d[grepl('<td class="zthei" style=', d)]
j <- 1
d.j <- d[j]
d.j.id <- gsub(".+class=\"clink\">", "", d.j)
d.j.id <- gsub("<.+", "", d.j.id)
d.j.u1 <- gsub(".+/vote", "/vote", d.j)
d.j.u1 <- gsub('".+', "", d.j.u1)
d.j.id
d.j.u1
d.j.u1 <- paste0("http://www.ttpaihang.com/", d.j.u1)
d.j.u1
d.j.u1.c <- iconv(readLines(d.j.u1))
d.j.u1.c
d.j.u1.c <- iconv(readLines(d.j.u1), from="gbk", to="utf8")
d.j.u1.c
d.u2 <- d.j.u1.c[grepl("进入图册")]
d.u2 <- d.j.u1.c[grepl("进入图册", d.j.u1.c)]
d.u2
d.u2 <- gsub(".+/photo", "/photo", d.u2)
d.u2
d.u2 <- gsub("'.+", "", d.u2)
d.u2
d.u2 <- paste0("http://www.ttpaihang.com/", d.u2)
d.u2
d.u2.c <- iconv(readLines(d.u2), from="gbk", to="utf8")
d.u2.c
d.fig <- d.u2.c[grepl("/image/album/", d.u2.c)]
d.fig
d.fig <- gsub(".+/", "", d.fig)
d.fig
d.fig <- paste0("http://www.ttpaihang.com/", d.fig)
d.fig
d.j.id
setwd(d.j.id)
download.file(d.fig)
download.file(d.fig, dest=basename(d.fig))
for (k in d.fig) {
download.file(k, dest=basename(k))
}
d.fig
d.fig <- d.u2.c[grepl("/image/album/", d.u2.c)]
d.fig <- gsub(".+/", "", d.fig)
d.fig
d.fig <- paste0("http://www.ttpaihang.com/image/album/", d.fig)
setwd(d.j.id)
?download.file
for (k in d.fig) {
download.file(k, dest=basename(k))
}
setwd("~/众神")
for (i in 1:2) {
d <- iconv(readLines(paste0("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=", i)),
from="gbk", to="utf8")
d <- d[grepl('<td class="zthei" style=', d)]
for (j in 1:length(d)) {
d.j <- d[j]
d.j.id <- gsub(".+class=\"clink\">", "", d.j)
d.j.id <- gsub("<.+", "", d.j.id)
d.j.u1 <- gsub(".+/vote", "/vote", d.j)
d.j.u1 <- gsub('".+', "", d.j.u1)
d.j.u1 <- paste0("http://www.ttpaihang.com/", d.j.u1)
d.j.u1.c <- iconv(readLines(d.j.u1), from="gbk", to="utf8")
d.u2 <- d.j.u1.c[grepl("进入图册", d.j.u1.c)]
d.u2 <- gsub(".+/photo", "/photo", d.u2)
d.u2 <- gsub("'.+", "", d.u2)
d.u2 <- paste0("http://www.ttpaihang.com/", d.u2)
d.u2.c <- iconv(readLines(d.u2), from="gbk", to="utf8")
d.fig <- d.u2.c[grepl("/image/album/", d.u2.c)]
d.fig <- gsub(".+/", "", d.fig)
d.fig <- paste0("http://www.ttpaihang.com/image/album/", d.fig)
setwd(d.j.id)
for (k in d.fig) {
download.file(k, dest=basename(k))
}
setwd("..")
}
}
ls()
for (i in 3:36) {
d <- iconv(readLines(paste0("http://www.ttpaihang.com/vote/rank.php?voteid=1089&page=", i)),
from="gbk", to="utf8")
d <- d[grepl('<td class="zthei" style=', d)]
for (j in 1:length(d)) {
d.j <- d[j]
d.j.id <- gsub(".+class=\"clink\">", "", d.j)
d.j.id <- gsub("<.+", "", d.j.id)
d.j.u1 <- gsub(".+/vote", "/vote", d.j)
d.j.u1 <- gsub('".+', "", d.j.u1)
d.j.u1 <- paste0("http://www.ttpaihang.com/", d.j.u1)
d.j.u1.c <- iconv(readLines(d.j.u1), from="gbk", to="utf8")
d.u2 <- d.j.u1.c[grepl("进入图册", d.j.u1.c)]
d.u2 <- gsub(".+/photo", "/photo", d.u2)
d.u2 <- gsub("'.+", "", d.u2)
d.u2 <- paste0("http://www.ttpaihang.com/", d.u2)
d.u2.c <- iconv(readLines(d.u2), from="gbk", to="utf8")
d.fig <- d.u2.c[grepl("/image/album/", d.u2.c)]
d.fig <- gsub(".+/", "", d.fig)
d.fig <- paste0("http://www.ttpaihang.com/image/album/", d.fig)
setwd(d.j.id)
for (k in d.fig) {
download.file(k, dest=basename(k))
}
setwd("..")
}
}
setwd("~/众神")
for (i in 1:13) {
d <- iconv(readLines(paste0("http://www.ttpaihang.com/vote/rank.php?voteid=1410&page=", i)),
from="gbk", to="utf8")
d <- d[grepl('<td class="zthei" style=', d)]
for (j in 1:length(d)) {
d.j <- d[j]
d.j.id <- gsub(".+class=\"clink\">", "", d.j)
d.j.id <- gsub("<.+", "", d.j.id)
d.j.u1 <- gsub(".+/vote", "/vote", d.j)
d.j.u1 <- gsub('".+', "", d.j.u1)
d.j.u1 <- paste0("http://www.ttpaihang.com/", d.j.u1)
d.j.u1.c <- iconv(readLines(d.j.u1), from="gbk", to="utf8")
d.u2 <- d.j.u1.c[grepl("进入图册", d.j.u1.c)]
d.u2 <- gsub(".+/photo", "/photo", d.u2)
d.u2 <- gsub("'.+", "", d.u2)
d.u2 <- paste0("http://www.ttpaihang.com/", d.u2)
d.u2.c <- iconv(readLines(d.u2), from="gbk", to="utf8")
d.fig <- d.u2.c[grepl("/image/album/", d.u2.c)]
d.fig <- gsub(".+/", "", d.fig)
d.fig <- paste0("http://www.ttpaihang.com/image/album/", d.fig)
setwd(d.j.id)
for (k in d.fig) {
download.file(k, dest=basename(k))
}
setwd("..")
}
}
setwd("~")
shiny::runApp('坚果云/坚果云/Todo/circos/circos.shiny')
install.packages("circlilze")
library(BiocInstaller)
biocLite("circlize")
install.packages("circlilze")
install.packages("circlilze")
install.packages("circlize")
library(circlize)
shiny::runApp('坚果云/坚果云/Todo/circos/circos.shiny')
library(BiocInstaller)
biocLite("GenomicRanges")
library(Genomicrān)
library(GenomicRangs)
library(GenomicRanges)
biocLite("GenomicRanges")
library(GenomicRanges)
install.packages("S4Vectors")
biocLite("S4Vectors")
biocLite("S4Vectors")
library(BiocInstaller)
shiny::runApp('坚果云/坚果云/Todo/sparseMatrix/wildCargo')
library(BiocInstaller)
library(BiocInstaller)
source("https://bioconductor.org/biocLite.R")
biocLite("IRanges")
library(IRanges)
library(LDheatmap)
library(chopsticks)
library(dplyr)
library(ggmap)
l
install.packages("dplyr")
install.packages("ape")
library(ape)
library(pegas)
install.packages("pegas")
ls()
library(pegas)
library(LDheatmap)
install.packages("LDheatmap")
library(BiocInstaller)
biocLite("chopsticks")
biocLite("chopsticks")
shiny::runApp('坚果云/坚果云/Todo/circos/circos.shiny')
install.packages("circlize")
shiny::runApp('坚果云/坚果云/Todo/circos/circos.shiny')
library(BiocInstaller)
biocLite("GenomicRanges")
library("GenomicRanges")
biocLite("GenomicRanges")
library("GenomicRanges")
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/sparseMatrix/wildCargo')
install.packages("plotly")
runApp('坚果云/坚果云/Todo/sparseMatrix/wildCargo')
install.packages("LDheatmap")
biocLite("chopsticks")
biocLite("chopsticks")
install.packages("~/Downloads/chopsticks_1.40.0.tgz", repos = NULL, type = .Platform$pkgType)
library(chopsticks)
library(ape)
library(pegas)
library(dplyr)
library(ggmap)
install.packages("ggmap")
library(foreach)
runApp('坚果云/坚果云/Todo/sparseMatrix/wildCargo')
install.packages("LDheatmap")
runApp('坚果云/坚果云/Todo/sparseMatrix/wildCargo')
runApp('坚果云/坚果云/Todo/sparseMatrix/wildCargo')
shiny::runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
library
library(shiny)
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
library(shiny)
runApp('坚果云/坚果云/Todo/circos/circos.shiny')
library(shiny)
runApp('RICENCODE')
install.packages("XML")
runApp('RICENCODE')
install.packages("~/坚果云/坚果云/CODE/shiny/shiny_0.10.2.2.tar.gz", repos = NULL, type = "source")
install.packages("RJSONIO")
install.packages("~/坚果云/坚果云/CODE/shiny/shiny_0.10.2.2.tar.gz", repos = NULL, type = "source")
runApp('RICENCODE')
library(shiny)
runApp('RICENCODE')
library(shiny)
library(shiny)
runApp('RICENCODE')
runApp('RICENCODE')
